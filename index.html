<!DOCTYPE html>
<html>

<head>
    <title>节点连线演示</title>
    <link rel="stylesheet" href="main.css">
</head>

<body>
    <!-- <div id="container">
        <canvas id="connectionCanvas"></canvas>
    </div> -->
    <div id="button-container">
        <button class="reset-button" onclick="GraphManager.resetView()">重置视图</button>
        <button class="save-button" onclick="GraphManager.saveNodes()">保存</button>
        <button class="load-button" onclick="document.getElementById('fileInput').click()">读取</button>
        <input type="file" id="fileInput" style="display: none" accept=".json" onchange="GraphManager.loadNodes(this.files[0])">
    </div>
    <script src="./js/node.js"></script>

    <script src="./js/graph.js"></script>
    <script src="./js/component.js"></script>

    <script>
 
      
        GraphManager.init();
        var node1 = new Node(100, 100, new NodeType('基础节点', '输入节点', 2, 3));
        var node2 = new Node(500, 200, new NodeType('基础节点', '输出节点', 3, 3));
         node1.connectTo(2,node2,0);
         node1.connectTo(2,node2,2);
         node1.connectTo(1,node2,1);
         node1.connectTo(2,node2,1);
        NodeManager.registerNode(node1);

        // 点击空白处关闭菜单
        document.addEventListener('click', function (e) {
            const menu = document.querySelector('.context-menu');
            if (menu && !menu.contains(e.target)) {
                menu.remove();
            }
        });


    </script>

 
    
    
</body>

</html>